{"remainingRequest":"/home/abinash/workspace/vue/project/blogs1/node_modules/babel-loader/lib/index.js!/home/abinash/workspace/vue/project/blogs1/node_modules/eslint-loader/index.js??ref--13-0!/home/abinash/workspace/vue/project/blogs1/src/store.js","dependencies":[{"path":"/home/abinash/workspace/vue/project/blogs1/src/store.js","mtime":1623047472992},{"path":"/home/abinash/workspace/vue/project/blogs1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/abinash/workspace/vue/project/blogs1/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/abinash/workspace/vue/project/blogs1/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAndnVleCc7IC8vaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlci5qcyc7CgppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJzsKdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUoewogIHN0YXRlOiBmdW5jdGlvbiBzdGF0ZSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycjogewogICAgICAgIG1zZzogJycsCiAgICAgICAgY3VyOiBmYWxzZQogICAgICB9LAogICAgICB1c2VyOiBudWxsLAogICAgICBjdXJyZW50VXNlcjogJycsCiAgICAgIHVzZXJNYWlsOiAnJywKICAgICAgdXNlcklkOiBudWxsLAogICAgICBpc0xvZ2dlZEluOiBmYWxzZSwKICAgICAgYmxvZ3M6IFtdLAogICAgICBvd25CbG9nczogW10sCiAgICAgIGJsb2c6IFtdCiAgICB9OwogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBjbGVhckFsbDogZnVuY3Rpb24gY2xlYXJBbGwoc3RhdGUpIHsKICAgICAgc3RhdGUuYmxvZyA9IFtdOwogICAgICBzdGF0ZS5vd25CbG9ncyA9IFtdOwogICAgICBzdGF0ZS5ibG9ncyA9IFtdOwogICAgICBzdGF0ZS5pc0xvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXJJZCA9IG51bGw7CiAgICAgIHN0YXRlLmN1cnJlbnRVc2VyID0gJyc7CiAgICAgIHN0YXRlLnVzZXJNYWlsID0gJyc7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfSwKICAgIHNldE1haWw6IGZ1bmN0aW9uIHNldE1haWwoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUudXNlck1haWwgPSBwYXlsb2FkLm1haWw7CiAgICB9LAogICAgcmV0cml2ZVN0YXRlOiBmdW5jdGlvbiByZXRyaXZlU3RhdGUoc3RhdGUpIHsKICAgICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbiAodXNlcikgewogICAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgICAgIHN0YXRlLnVzZXJJZCA9IHVzZXIudWlkOwogICAgICAgIHN0YXRlLmlzTG9nZ2VkSW4gPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRNeUJsb2dzOiBmdW5jdGlvbiBnZXRNeUJsb2dzKHN0YXRlKSB7CiAgICAgIHN0YXRlLm93bkJsb2dzLnNwbGljZSgwLCBzdGF0ZS5ibG9ncy5sZW5ndGgpOwogICAgICB2YXIgZGIgPSBmaXJlYmFzZS5kYXRhYmFzZSgpOwogICAgICB2YXIgcmVmZXIgPSBkYi5yZWYoKS5jaGlsZCgnYmxvZ3MnKTsKICAgICAgcmVmZXIub3JkZXJCeUNoaWxkKCJ1c2VySWQiKS5lcXVhbFRvKHN0YXRlLnVzZXJJZCkuZ2V0KCkudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uIChzbmFwKSB7CiAgICAgICAgICB2YXIgc2FtcGxlID0gewogICAgICAgICAgICBpZDogc25hcC52YWwoKS5pZCwKICAgICAgICAgICAgZnJvbTogc25hcC52YWwoKS51c2VyTWFpbCwKICAgICAgICAgICAgY3JlYXRlZEF0OiBzbmFwLnZhbCgpLmNyZWF0ZWRBdCwKICAgICAgICAgICAgdGl0bGU6IHNuYXAudmFsKCkudGl0bGUsCiAgICAgICAgICAgIGNvbnRlbnQ6IHNuYXAudmFsKCkubWFpbmNvbnRlbnQsCiAgICAgICAgICAgIGltZ1VybDogc25hcC52YWwoKS5pbWdVcmwKICAgICAgICAgIH07CiAgICAgICAgICBzdGF0ZS5vd25CbG9ncy5wdXNoKHNhbXBsZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEFsbEJsb2dzOiBmdW5jdGlvbiBnZXRBbGxCbG9ncyhzdGF0ZSkgewogICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigiL2Jsb2dzIikuZ2V0KCkudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKSB7CiAgICAgICAgICBzdGF0ZS5ibG9ncy5zcGxpY2UoMCwgc3RhdGUuYmxvZ3MubGVuZ3RoKTsKICAgICAgICAgIHNuYXBzaG90LmZvckVhY2goZnVuY3Rpb24gKHNuYXApIHsKICAgICAgICAgICAgdmFyIHNhbXBsZSA9IHsKICAgICAgICAgICAgICBpZDogc25hcC52YWwoKS5pZCwKICAgICAgICAgICAgICBmcm9tOiBzbmFwLnZhbCgpLnVzZXJNYWlsLAogICAgICAgICAgICAgIGNyZWF0ZWRBdDogc25hcC52YWwoKS5jcmVhdGVkQXQsCiAgICAgICAgICAgICAgdGl0bGU6IHNuYXAudmFsKCkudGl0bGUsCiAgICAgICAgICAgICAgY29udGVudDogc25hcC52YWwoKS5tYWluY29udGVudCwKICAgICAgICAgICAgICBpbWdVcmw6IHNuYXAudmFsKCkuaW1nVXJsCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHN0YXRlLmJsb2dzLnB1c2goc2FtcGxlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBzaWduVXA6IGZ1bmN0aW9uIHNpZ25VcChjb250ZXh0LCBwYXlsb2FkKSB7CiAgICAgIGZpcmViYXNlLmF1dGgoKS5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQocGF5bG9hZC5tYWlsLCBwYXlsb2FkLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0RXJyJywgewogICAgICAgICAgbXNnOiBlcnIubWVzc2FnZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oY29udGV4dCwgcGF5bG9hZCkgewogICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQocGF5bG9hZC5tYWlsLCBwYXlsb2FkLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0TWFpbCcsIHsKICAgICAgICAgIG1haWw6IHBheWxvYWQubWFpbAogICAgICAgIH0pOwogICAgICAgIGNvbnRleHQuY29tbWl0KCdyZXRyaXZlU3RhdGUnKTsKICAgICAgICByb3V0ZXIucHVzaCgnL2hvbWUnKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoY29udGV4dCkgewogICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJsb2cgb3V0IHN1Y2Nlc3NmdWxseSIpOwogICAgICAgIGNvbnRleHQuY29tbWl0KCdjbGVhckFsbCcpOwogICAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgfSk7CiAgICB9CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgc3RvcmU7"},{"version":3,"sources":["/home/abinash/workspace/vue/project/blogs1/src/store.js"],"names":["createStore","firebase","router","store","state","err","msg","cur","user","currentUser","userMail","userId","isLoggedIn","blogs","ownBlogs","blog","mutations","clearAll","setMail","payload","mail","retriveState","auth","onAuthStateChanged","uid","getMyBlogs","splice","length","db","database","refer","ref","child","orderByChild","equalTo","get","then","snapshot","forEach","snap","sample","id","val","from","createdAt","title","content","maincontent","imgUrl","push","getAllBlogs","exists","actions","signUp","context","createUserWithEmailAndPassword","password","catch","commit","message","login","signInWithEmailAndPassword","logout","signOut","console","log"],"mappings":"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","sourcesContent":["import { createStore } from 'vuex';\n//import router from './router.js';\nimport firebase from 'firebase';\nimport router from './router';\nconst store = createStore({\n    state(){\n        return{\n            err : {msg: '',cur: false},\n            user: null,\n            currentUser: '',\n            userMail: '',\n            userId: null,\n            isLoggedIn: false,\n            blogs: [],\n            ownBlogs: [],\n            blog: [],\n        };\n    },\n    mutations:\n    {\n        clearAll(state){\n            state.blog = [];\n            state.ownBlogs= [];\n            state.blogs = [];\n            state.isLoggedIn = false;\n            state.userId = null;\n            state.currentUser= '';\n            state.userMail = '';\n            state.user = null;\n        },\n        setMail(state, payload)\n        {\n            state.userMail = payload.mail;\n        },\n        retriveState(state)\n        {\n            firebase.auth().onAuthStateChanged(\n                (user) => {\n                    state.user = user;\n                    state.userId = user.uid;\n                    state.isLoggedIn = true;\n                }\n\n            );\n        },\n        getMyBlogs(state)\n        {\n            state.ownBlogs.splice(0,state.blogs.length);\n            const db = firebase.database();\n            const refer = db.ref().child('blogs');\n            refer.orderByChild(\"userId\").equalTo(state.userId).get().then((snapshot) => {\n                snapshot.forEach((snap) => {\n                    const sample = {\n                        id: snap.val().id,\n                        from: snap.val().userMail,\n                        createdAt: snap.val().createdAt,\n                        title: snap.val().title,\n                        content: snap.val().maincontent,\n                        imgUrl: snap.val().imgUrl,\n                    };\n                    state.ownBlogs.push(sample);\n                });\n            });\n            \n        },\n        getAllBlogs(state)\n        {\n            firebase.database().ref(\"/blogs\").get().then((snapshot) => {\n                if(snapshot.exists)\n                {\n                    state.blogs.splice(0,state.blogs.length);\n                    snapshot.forEach((snap) => {\n                        const sample = {\n                            id: snap.val().id,\n                            from: snap.val().userMail,\n                            createdAt: snap.val().createdAt,\n                            title: snap.val().title,\n                            content: snap.val().maincontent,\n                            imgUrl: snap.val().imgUrl,\n                        };\n                        state.blogs.push(sample);\n                    });\n\n                }\n            });\n        },\n        \n    },\n    actions:{\n       \n        signUp(context,payload)\n        {\n            firebase.auth().createUserWithEmailAndPassword(payload.mail, payload.password).then(() =>{\n                router.push('/login');\n            }\n            )\n            .catch((err) => {\n                context.commit('setErr', {msg: err.message});\n            });\n            \n        },\n        login(context,payload)\n        {\n            \n            firebase.auth().signInWithEmailAndPassword(payload.mail,payload.password).then(\n                () => {\n                    context.commit('setMail',{mail: payload.mail});\n                    context.commit('retriveState');\n                    router.push('/home');\n                }\n            );\n        },\n        logout(context)\n        {\n            firebase.auth().signOut().then(() => {\n                console.log(\"log out successfully\");\n                context.commit('clearAll');\n                router.push('/login');\n            });\n        }\n    },\n});\n\nexport default store;"]}]}