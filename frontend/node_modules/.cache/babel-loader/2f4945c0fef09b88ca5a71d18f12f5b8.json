{"remainingRequest":"/home/abinash/workspace/vue/project/blogs1/node_modules/babel-loader/lib/index.js!/home/abinash/workspace/vue/project/blogs1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/abinash/workspace/vue/project/blogs1/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/abinash/workspace/vue/project/blogs1/src/components/blogs/OneBlog.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/abinash/workspace/vue/project/blogs1/src/components/blogs/OneBlog.vue","mtime":1623062961637},{"path":"/home/abinash/workspace/vue/project/blogs1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/abinash/workspace/vue/project/blogs1/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/abinash/workspace/vue/project/blogs1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/abinash/workspace/vue/project/blogs1/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBjb21tZW50TGlzdCBmcm9tICcuLi9jb21tZW50cy9jb21tZW50TGlzdC52dWUnOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwppbXBvcnQgQmFzZURpYWxvZyBmcm9tICcuLi9VSS9CYXNlRGlhbG9nLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCYXNlRGlhbG9nOiBCYXNlRGlhbG9nLAogICAgY29tbWVudExpc3Q6IGNvbW1lbnRMaXN0CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLmNoaWxkKCdibG9ncycpLm9yZGVyQnlDaGlsZCgiaWQiKS5lcXVhbFRvKHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkpLmdldCgpLnRoZW4oZnVuY3Rpb24gKHNuYXBzaG90KSB7CiAgICAgIHNuYXBzaG90LmZvckVhY2goZnVuY3Rpb24gKHNuYXApIHsKICAgICAgICBfdGhpcy5pZCA9IHNuYXAudmFsKCkuaWQ7CiAgICAgICAgX3RoaXMuZW1haWwgPSBzbmFwLnZhbCgpLnVzZXJNYWlsOwogICAgICAgIF90aGlzLmNyZWF0ZWRBdCA9IHNuYXAudmFsKCkuY3JlYXRlZEF0OwogICAgICAgIF90aGlzLnRpdGxlID0gc25hcC52YWwoKS50aXRsZTsKICAgICAgICBfdGhpcy5tYWluY29udGVudCA9IHNuYXAudmFsKCkubWFpbmNvbnRlbnQ7CiAgICAgICAgX3RoaXMuY29udGVudDEgPSBzbmFwLnZhbCgpLmNvbnRlbnQxOwogICAgICAgIF90aGlzLmNvbnRlbnQyID0gc25hcC52YWwoKS5jb250ZW50MjsKICAgICAgICBfdGhpcy51c2VySWQgPSBzbmFwLnZhbCgpLnVzZXJJZDsKICAgICAgICBfdGhpcy5pbWdVcmwgPSBzbmFwLnZhbCgpLmltZ1VybDsKCiAgICAgICAgaWYgKF90aGlzLnVzZXJJZCA9PT0gX3RoaXMuJHN0b3JlLnN0YXRlLnVzZXJJZCkgewogICAgICAgICAgX3RoaXMuaXNWYWxpZFRvRWRpdCA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy50ZW1wVGl0bGUgPSBzbmFwLnZhbCgpLnRpdGxlOwogICAgICAgIF90aGlzLnRlbXBtYWluQ29udGVudCA9IHNuYXAudmFsKCkubWFpbmNvbnRlbnQ7CiAgICAgICAgX3RoaXMudGVtcENvbnRlbnQxID0gc25hcC52YWwoKS5jb250ZW50MTsKICAgICAgICBfdGhpcy50ZW1wQ29udGVudDIgPSBzbmFwLnZhbCgpLmNvbnRlbnQyOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJsb2c6IHRoaXMuJHN0b3JlLnN0YXRlLmJsb2csCiAgICAgIGlkOiBudWxsLAogICAgICBlbWFpbDogJycsCiAgICAgIGNyZWF0ZWRBdDogJycsCiAgICAgIHRpdGxlOiAnJywKICAgICAgbWFpbmNvbnRlbnQ6ICcnLAogICAgICBjb250ZW50MTogJycsCiAgICAgIGNvbnRlbnQyOiAnJywKICAgICAgdXNlcklkOiBudWxsLAogICAgICBjdXJyZW50VXNlcklkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySWQsCiAgICAgIGlzVmFsaWRUb0VkaXQ6IGZhbHNlLAogICAgICBzaG93ZWRpdDogZmFsc2UsCiAgICAgIHRlbXBUaXRsZTogJycsCiAgICAgIHRlbXBtYWluQ29udGVudDogJycsCiAgICAgIHRlbXBDb250ZW50MTogJycsCiAgICAgIHRlbXBDb250ZW50MjogJycsCiAgICAgIHVwZGF0ZUludmFsaWQ6IGZhbHNlLAogICAgICBpbWdVcmw6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZVVwZGF0ZTogZnVuY3Rpb24gY2xvc2VVcGRhdGUoKSB7CiAgICAgIHRoaXMuc2hvd2VkaXQgPSBmYWxzZTsKICAgIH0sCiAgICBzaG93RWRpdDogZnVuY3Rpb24gc2hvd0VkaXQoKSB7CiAgICAgIHRoaXMuc2hvd2VkaXQgPSB0cnVlOwogICAgfSwKICAgIHVwZGF0ZUJsb2c6IGZ1bmN0aW9uIHVwZGF0ZUJsb2coKSB7CiAgICAgIGlmICh0aGlzLnRlbXBUaXRsZSAhPT0gdGhpcy50aXRsZSB8fCB0aGlzLnRlbXBtYWluQ29udGVudCAhPT0gdGhpcy5tYWluY29udGVudCB8fCB0aGlzLnRlbXBDb250ZW50MSAhPT0gdGhpcy5jb250ZW50MSB8fCB0aGlzLnRlbXBDb250ZW50MiAhPT0gdGhpcy5jb250ZW50MikgewogICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdibG9ncy8nICsgdGhpcy5pZCkudXBkYXRlKHsKICAgICAgICAgICd0aXRsZSc6IHRoaXMudGVtcFRpdGxlLAogICAgICAgICAgJ21haW5jb250ZW50JzogdGhpcy50ZW1wbWFpbkNvbnRlbnQsCiAgICAgICAgICAnY29udGVudDEnOiB0aGlzLnRlbXBDb250ZW50MSwKICAgICAgICAgICdjb250ZW50Mic6IHRoaXMudGVtcENvbnRlbnQyCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9teUJsb2dzJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51cGRhdGVJbnZhbGlkID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZUJsb2c6IGZ1bmN0aW9uIGRlbGV0ZUJsb2coKSB7CiAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdibG9ncy8nICsgdGhpcy5pZCkucmVtb3ZlKCk7CiAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdjb21tZW50cy8nICsgdGhpcy5pZCkucmVtb3ZlKCk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbXlCbG9ncycpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/abinash/workspace/vue/project/blogs1/src/components/blogs/OneBlog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <base-dialog title=\"Edit Blog\" v-if=\"showedit\" class=\"editDialog\">\n        <div>\n            <div class=\"divInput\">\n                <label for='title'>Title</label>\n                <input type=\"text\" name=\"title\" id='title' placeHolder=\"Title\" class='titleInput' v-model.trim='tempTitle'>\n            </div>\n            <div class=\"divInput\">\n                <label for='maincontent'>main Content</label>\n                <textarea name=\"maincontent\" rows=\"4\" cols=\"50\" class='titleInput' placeHolder=\"Main Content in short form\" v-model.trim='tempmainContent'></textarea>\n            </div>\n            <div class=\"divInput\">\n                <label for='content1'>content1</label>\n                <textarea name=\"content1\" rows=\"7\" cols=\"50\" class='titleInput' placeHolder=\"Content 1\" v-model.trim='tempContent1'></textarea>\n            </div>\n            <div class=\"divInput\">\n                <label for='content2'>content2</label>\n                <textarea name=\"content2\" rows=\"7\" cols=\"50\" class='titleInput' placeHolder=\"Content 2\" v-model.trim='tempContent2'></textarea>\n            </div>\n            <div class=\"divInput\">\n                <button @click=\"updateBlog\"  class=\"divButton\">update</button>\n            </div><div class=\"divInput\">\n                <button @click=\"closeUpdate\"  class=\"divButton\">close</button>\n            </div>\n        </div>\n    </base-dialog>\n    <section class=\"maincontainer\">\n        <img :src=\"imgUrl\" >\n        <div class=\"floatclass\">\n            <p>{{title}}</p>\n            <button v-if=\"isValidToEdit\" @click=\"showEdit\">edit</button>\n            <button v-if=\"isValidToEdit\" @click=\"deleteBlog\">Delete</button>\n        </div>\n        <div>\n            <p>{{maincontent}}</p>\n            <p>{{content1}}</p>\n            <p>{{content2}}</p>\n            <p v-if=\"!isValidToEdit\">{{email}}</p>\n            <p>Created At {{createdAt}}</p>\n        </div>\n    </section>\n\n    <section class=\"commentClass\">\n        <comment-list :id=\"''+id\" :email=\"email\"></comment-list>\n    </section>\n</template>\n\n\n<script>\n    import commentList from '../comments/commentList.vue';\n    import firebase from 'firebase';\n    import BaseDialog from '../UI/BaseDialog.vue';\n    export default\n    {\n        components:{\n            BaseDialog,\n            commentList\n        },\n        created()\n        {\n\n            firebase.database().ref().child('blogs').orderByChild(\"id\").equalTo(parseInt(this.$route.params.id)).get()\n            .then((snapshot) => {\n                snapshot.forEach((snap) => {\n                    this.id = snap.val().id;\n                    this.email = snap.val().userMail;\n                    this.createdAt = snap.val().createdAt;\n                    this.title = snap.val().title;\n                    this.maincontent = snap.val().maincontent;\n                    this.content1 = snap.val().content1;\n                    this.content2 = snap.val().content2;\n                    this.userId = snap.val().userId;\n                    this.imgUrl = snap.val().imgUrl;\n                    if( this.userId === this.$store.state.userId )\n                    {\n                        this.isValidToEdit = true;\n                    }\n                    this.tempTitle = snap.val().title;\n                    this.tempmainContent = snap.val().maincontent;\n                    this.tempContent1 = snap.val().content1;\n                    this.tempContent2 = snap.val().content2;\n                });\n            });\n        },\n        data(){\n            return{\n                blog: this.$store.state.blog,\n                id: null,\n                email: '',\n                createdAt: '',\n                title: '',\n                maincontent: '',\n                content1: '',\n                content2: '',\n                userId: null,\n                currentUserId: this.$store.state.userId,\n                isValidToEdit: false,\n                showedit: false,\n                tempTitle: '',\n                tempmainContent: '',\n                tempContent1: '',\n                tempContent2: '',\n                updateInvalid: false, \n                imgUrl: null,\n            };\n        },\n        methods:{\n            closeUpdate()\n            {\n                this.showedit=false;\n            },\n            showEdit()\n            {\n                this.showedit = true;\n            },\n            updateBlog()\n            {\n                if(this.tempTitle !== this.title || this.tempmainContent !== this.maincontent || this.tempContent1 !== this.content1 || this.tempContent2 !== this.content2 )\n                {\n                    firebase.database().ref('blogs/'+this.id).update({\n                        'title': this.tempTitle,\n                        'maincontent': this.tempmainContent,\n                        'content1': this.tempContent1,\n                        'content2': this.tempContent2,\n                        });\n                    this.$router.push('/myBlogs');\n                } else {\n                    this.updateInvalid = true;\n                }\n            },\n            deleteBlog()\n            {\n                firebase.database().ref('blogs/'+this.id).remove();\n                firebase.database().ref('comments/'+this.id).remove();\n                this.$router.push('/myBlogs');\n\n            }\n        }\n    }\n</script>\n\n<style scoped>\n.divButton\n{\n    font-size: 18px;\n    text-align: center;\n    width: 30%;\n    margin-left: 35%;\n}\n.divInput\n{\n    padding-top: 1vh;\n}\n.titleInput\n{\n    font-size: 20px;\n    width: 90%;\n    padding-left: 10px;\n    margin-left: 5%;\n}\n.maincontainer\n{\n    width: 60%;\n    margin-left: 20%;\n}\n\n.maincontainer img{\n    width: 80%;\n    margin-left: 10%;\n    height: 70%;\n}\n.floatclass{\n    padding: 4rem 0;\n}\n.floatclass p\n{\n    float: left;\n    font-size: 27px;\n}\n\n.floatclass button{\n    float: right;\n    font-size: 23px;\n    padding-left: 3%;\n    padding-right: 3%;\n    background: none;\n    outline: none;\n    border: 1px solid black;\n    cursor: pointer;\n}\n.commentClass\n{\n    width: 60%;\n    margin-left: 20%;\n    margin-top: 50px;\n    margin-bottom: 100px;\n    padding: 2rem;\n    box-shadow: 0 3px 30px rgba(0, 0, 0, 0.26);\n    background-color:rgb(243, 245, 245);\n    border-radius: 10px;\n}\n</style>"],"sourceRoot":""}]}